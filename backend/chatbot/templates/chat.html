<!DOCTYPE html>
<html>
  <head>
    <title>PHLaw Chatbot</title>
  </head>
  <body>
    <h2>PHLaw Chatbot</h2>

    <label for="query">Ask a legal question:</label><br />
    <input type="text" id="query" style="width: 300px" />
    <button onclick="sendQuery()">Send</button>

    <h3>Response:</h3>
    <pre id="response"></pre>

    <script>
      async function sendQuery() {
        const query = document.getElementById("query").value;
        const responseBox = document.getElementById("response");

        const res = await fetch("/api/chat/", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({ query: query }),
        });

        const data = await res.json();
        responseBox.textContent = data.answer || data.error || "No response";
      }
    </script>
  </body>
</html>
